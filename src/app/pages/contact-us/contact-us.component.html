<!-- src/app/pages/contact-us/contact-us.component.html -->

<div class="contact-us-container">

  <!-- Main Content -->
  <div class="container mt-5">
    <!-- Contact Form Section -->
    <div class="row">
      <div class="col-lg-8 offset-lg-2 mb-5">
        <div class="card shadow-lg">
          <div class="card-body">
            <h3 class="card-title mb-4"><i class="bi bi-envelope-fill me-2"></i>Send Us a Message</h3>
            <form (ngSubmit)="onSubmit(contactModal)" [formGroup]="contactForm" novalidate>
              <!-- Name Field -->
              <div class="mb-3">
                <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
                <input
                  type="text"
                  id="name"
                  class="form-control"
                  formControlName="name"
                  placeholder="Your Name"
                  aria-label="Your Name"
                />
                <div *ngIf="contactForm.get('name')?.touched && contactForm.get('name')?.invalid" class="text-danger">
                  <small *ngIf="contactForm.get('name')?.errors?.['required']">Name is required.</small>
                  <small *ngIf="contactForm.get('name')?.errors?.['maxlength']">Name cannot exceed 50 characters.</small>
                </div>
              </div>

              <!-- Email Field -->
              <div class="mb-3">
                <label for="email" class="form-label">Email address <span class="text-danger">*</span></label>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  formControlName="email"
                  placeholder="name@example.com"
                  aria-label="Email Address"
                />
                <div *ngIf="contactForm.get('email')?.touched && contactForm.get('email')?.invalid" class="text-danger">
                  <small *ngIf="contactForm.get('email')?.errors?.['required']">Email is required.</small>
                  <small *ngIf="contactForm.get('email')?.errors?.['email']">Please enter a valid email address.</small>
                </div>
              </div>

              <!-- Message Field -->
              <div class="mb-4">
                <label for="message" class="form-label">Message <span class="text-danger">*</span></label>
                <textarea
                  id="message"
                  class="form-control"
                  formControlName="message"
                  rows="5"
                  placeholder="Your Message"
                  aria-label="Your Message"
                ></textarea>
                <div *ngIf="contactForm.get('message')?.touched && contactForm.get('message')?.invalid" class="text-danger">
                  <small *ngIf="contactForm.get('message')?.errors?.['required']">Message is required.</small>
                  <small *ngIf="contactForm.get('message')?.errors?.['maxlength']">Message cannot exceed 1000 characters.</small>
                </div>
              </div>

              <!-- Form Buttons -->
              <div class="d-flex justify-content-between">
                <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid" aria-label="Send Message">
                  <i class="bi bi-send-fill me-2"></i> Send
                </button>
                <button type="button" class="btn btn-outline-secondary" (click)="resetForm()" aria-label="Cancel">
                  <i class="bi bi-x-circle me-2"></i> Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Our Location Section -->
    <div class="row">
      <div class="col-12 mb-5">
        <h3 class="mb-4 text-center"><i class="bi bi-map-fill me-2"></i>Our Location</h3>
        <div class="map-container shadow-lg rounded">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3164.636070112733!2d23.7535288154463!3d37.987321279749054!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14a1a4f5c80b7b6d%3A0x4c5b3e6e8c1a4e1c!2sOTE%20Group%20of%20Companies!5e0!3m2!1sen!2sgr!4v1699800367983!5m2!1sen!2sgr"
            width="100%"
            height="450"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            aria-label="OTE Headquarters Location on Map"
          ></iframe>
        </div>
      </div>
    </div>

    <!-- Confirmation Modal Template -->
    <ng-template #contactModal let-modal>
      <div class="modal-header">
        <h5 class="modal-title" id="modal-basic-title"><i class="bi bi-check-circle-fill text-success me-2"></i>Thank You!</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
      </div>
      <div class="modal-body">
        We have received your message and will get back to you shortly.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="modal.close('Close click')" aria-label="Close Modal">
          <i class="bi bi-check-circle-fill me-2"></i> Close
        </button>
      </div>
    </ng-template>
  </div>
</div>
